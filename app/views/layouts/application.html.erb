<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <title>GotX</title>
    <%= stylesheet_link_tag 'tailwind', 'inter-font', 'data-turbo-track': 'reload' %>
    <%= stylesheet_link_tag 'application', media: 'all' %>
    
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
  </head>

  <body>
    <nav class="bg-blue-600" x-data="{ isOpen: false }">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex-shrink-0">
            <a href="/" class="text-white text-xl font-bold">GotX</a>
          </div>
          
          <div class="hidden md:block">
            <div class="ml-10 flex items-center space-x-4">
              <%= link_to 'Games', games_path, class: 'text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium' %>
              <%= link_to 'Themes', themes_path, class: 'text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium' %>
              <%= link_to 'Users', users_path, class: 'text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium' %>
              <%= link_to 'Streaks', streaks_path, class: 'text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium' %>
              <%= link_to 'Nominations', nominations_path, class: 'text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium' %>
            </div>
          </div>

          <div class="md:hidden">
            <button type="button" 
                    @click="isOpen = !isOpen" 
                    class="inline-flex items-center justify-center p-2 rounded-md text-white hover:text-white hover:bg-blue-500"
                    aria-controls="mobile-menu" 
                    aria-expanded="false">
              <span class="sr-only">Open main menu</span>
              <svg class="h-6 w-6" :class="{'hidden': isOpen, 'block': !isOpen}" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
              <svg class="h-6 w-6" :class="{'block': isOpen, 'hidden': !isOpen}" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <div class="md:hidden"
           id="mobile-menu" 
           x-show="isOpen" 
           x-transition:enter="transition ease-out duration-100 transform"
           x-transition:enter-start="opacity-0 scale-95"
           x-transition:enter-end="opacity-100 scale-100"
           x-transition:leave="transition ease-in duration-75 transform"
           x-transition:leave-start="opacity-100 scale-100"
           x-transition:leave-end="opacity-0 scale-95">
        <div class="px-2 pt-2 pb-3 space-y-1">
          <%= link_to 'Games', games_path, class: 'text-white hover:bg-blue-500 hover:text-white block px-3 py-2 rounded-md text-base font-medium' %>
          <%= link_to 'Themes', themes_path, class: 'text-white hover:bg-blue-500 hover:text-white block px-3 py-2 rounded-md text-base font-medium' %>
          <%= link_to 'Users', users_path, class: 'text-white hover:bg-blue-500 hover:text-white block px-3 py-2 rounded-md text-base font-medium' %>
          <%= link_to 'Streaks', streaks_path, class: 'text-white hover:bg-blue-500 hover:text-white block px-3 py-2 rounded-md text-base font-medium' %>
          <%= link_to 'Nominations', nominations_path, class: 'text-white hover:bg-blue-500 hover:text-white block px-3 py-2 rounded-md text-base font-medium' %>
        </div>
      </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
      <% if notice %>
        <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4" role="alert">
          <p class="font-medium"><%= notice %></p>
        </div>
      <% end %>
      
      <% if alert %>
        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4" role="alert">
          <p class="font-medium"><%= alert %></p>
        </div>
      <% end %>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <%= yield %>
    </div>
  </body>
</html>